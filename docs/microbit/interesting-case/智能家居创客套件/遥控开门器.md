# 智能声控灯

## 功能简介

当光线变暗时，检测周围环境噪音，当周围环境噪音高于设定阈值时，自动打开RGB灯，开启十秒后自动关灯。

![](./images/)

## 硬件连接

将光线传感器连接到IOT:bit的P1端口，将噪音传感器连接到IOT:bit的P2端口，将彩虹灯连接到IOT:bit的P14端口。

![](./images/)

## 软件编程

### 添加软件库

打开[makecode编程平台](https://makecode.microbit.org/)
点击新建项目，在弹出的窗口填入项目名称并点击新建。

![](./images/)

点击扩展

![](./images/)

在弹出界面的搜索栏输入IOT:bit，点击搜索，在搜索结果中选择IOT:bit的软件库。

![](./images/)

### 程序详解

当开机时，设置彩虹灯数量为一颗，连接在P14端口。

![](./images/)

将连接至P1的光线传感器的返回值存入变量lightlevel，将连接至P2的噪音传感器的返回值存入变量noiselevel中。

![](./images/)

如果光线传感器的返回值小于60且噪音传感器的返回值大于80，则点亮白色灯光，等待十秒后，灯光自动熄灭。

![](./images/)

否则灯光熄灭。

![](./images/)

完整程序：

![](./images/)

程序链接：[https://makecode.microbit.org/_2ve1HC6q5C5p](https://makecode.microbit.org/_2ve1HC6q5C5p)

## 案例演示


当光线变暗时，检测周围环境噪音，当周围环境噪音高于设定阈值时，自动打开RGB灯，开启十秒后自动关灯。

![](./images/)
